## ğŸš¤ è·å–ç½‘é¡µä¿¡æ¯

è·³åˆ°ä¸»è¦å†…å®¹å½“å‰æ–‡æ¡£é€‚ç”¨äºï¼šDrissionPage 4.0.4.21DrissionPageç‰¹æ€§ä»‹ç»ä½¿ç”¨æ–‡æ¡£å®ç”¨æ•™ç¨‹å¼€å‘è¿›åº¦è½¯ä»¶ç”Ÿæ€åˆä½œå’¨è¯¢GiteeGitHubæœç´¢ğŸ’¬ å…¥é—¨æŒ‡å—ğŸš… SessionPageğŸ›³ï¸ ChromiumPageğŸš¤ æ¦‚è¿°ğŸš¤ å¯åŠ¨æˆ–æ¥ç®¡æµè§ˆå™¨ğŸš¤ è®¿é—®ç½‘é¡µğŸš¤ è·å–ç½‘é¡µä¿¡æ¯ğŸš¤ é¡µé¢äº¤äº’ğŸš¤ æŸ¥æ‰¾å…ƒç´ ğŸš¤ è·å–å…ƒç´ ä¿¡æ¯ğŸš¤ å…ƒç´ äº¤äº’ğŸš¤ è‡ªåŠ¨ç­‰å¾…ğŸš¤ æ–‡ä»¶ä¸Šä¼ ğŸš¤ æ ‡ç­¾é¡µæ“ä½œğŸš¤ iframe æ“ä½œğŸš¤ ç›‘å¬ç½‘ç»œæ•°æ®ğŸš¤ åŠ¨ä½œé“¾ğŸš¤ æˆªå›¾å’Œå½•åƒğŸš¤ æµè§ˆå™¨å¯åŠ¨è®¾ç½®ğŸš€ WebPageğŸ” æŸ¥æ‰¾å…ƒç´ â¬‡ï¸ ä¸‹è½½æ–‡ä»¶ğŸ§° è¿›é˜¶ä½¿ç”¨ğŸ›  æ—§ç‰ˆï¼ˆMixPageï¼‰ğŸ›³ï¸ ChromiumPageğŸš¤ è·å–ç½‘é¡µä¿¡æ¯æœ¬é¡µæ€»è§ˆğŸš¤ è·å–ç½‘é¡µä¿¡æ¯æˆåŠŸè®¿é—®ç½‘é¡µåï¼Œå¯ä½¿ç”¨ChromiumPageè‡ªèº«å±æ€§å’Œæ–¹æ³•è·å–é¡µé¢ä¿¡æ¯ã€‚
æ“æ§æµè§ˆå™¨é™¤äº†ChromiumPageï¼Œè¿˜æœ‰ChromiumTabå’ŒChromiumFrameä¸¤ç§é¡µé¢å¯¹è±¡åˆ†åˆ«å¯¹åº”äºæ ‡ç­¾é¡µå¯¹è±¡å’Œ<iframe>å…ƒç´ å¯¹è±¡ï¼Œåé¢ä¼šæœ‰å•ç‹¬ç« èŠ‚ä»‹ç»ã€‚
âœ…ï¸ï¸ é¡µé¢ä¿¡æ¯â€‹
ğŸ“Œ htmlâ€‹
æ­¤å±æ€§è¿”å›å½“å‰é¡µé¢ html æ–‡æœ¬ã€‚
è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ jsonâ€‹
æ­¤å±æ€§æŠŠè¯·æ±‚å†…å®¹è§£ææˆ jsonã€‚
å‡å¦‚ç”¨æµè§ˆå™¨è®¿é—®ä¼šè¿”å› *.json æ–‡ä»¶çš„ urlï¼Œæµè§ˆå™¨ä¼šæŠŠ json æ•°æ®æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥æŠŠè¿™äº›æ•°æ®è½¬æ¢ä¸ºdictæ ¼å¼ã€‚
å¦‚æœæ˜¯APIè¿”å›çš„jsonå­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨ SessionPage å¯¹è±¡è€Œä¸æ˜¯ ChromiumPageã€‚
è¿”å›ç±»å‹ï¼šdict

ğŸ“Œ titleâ€‹
æ­¤å±æ€§è¿”å›å½“å‰é¡µé¢titleæ–‡æœ¬ã€‚
è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ user_agentâ€‹
æ­¤å±æ€§è¿”å›å½“å‰é¡µé¢ user agent ä¿¡æ¯ã€‚
è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ browser_versionâ€‹
æ­¤å±æ€§è¿”å›å½“å‰æµè§ˆå™¨ç‰ˆæœ¬å·ã€‚
è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ save()â€‹
æŠŠå½“å‰é¡µé¢ä¿å­˜ä¸ºæ–‡ä»¶ï¼ŒåŒæ—¶è¿”å›ä¿å­˜çš„å†…å®¹ã€‚
å¦‚æœpathå’Œnameå‚æ•°éƒ½ä¸ºNoneï¼Œåªè¿”å›å†…å®¹ï¼Œä¸ä¿å­˜æ–‡ä»¶ã€‚
Page å¯¹è±¡å’Œ Tab å¯¹è±¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚
å‚æ•°åç§°ç±»å‹é»˜è®¤å€¼è¯´æ˜pathstrPathNoneä¿å­˜è·¯å¾„ï¼Œä¸ºNoneä¸”nameä¸ä¸ºNoneæ—¶ä¿å­˜åˆ°å½“å‰è·¯å¾„namestrNoneä¿å­˜çš„æ–‡ä»¶åï¼Œä¸ºNoneä¸”pathä¸ä¸ºNoneæ—¶ä½¿ç”¨ title å€¼as_pdfboolFalseä¸ºTureä¿å­˜ä¸º pdfï¼Œå¦åˆ™ä¿å­˜ä¸º mhtml ä¸”å¿½ç•¥kwargså‚æ•°**kwargså¤šç§æ— pdf ç”Ÿæˆå‚æ•°
pdf ç”Ÿæˆå‚æ•°åŒ…æ‹¬ï¼šlandscape, displayHeaderFooter, printBackground, scale, paperWidth, paperHeight, marginTop, marginBottom, marginLeft, marginRight, pageRanges, headerTemplate, footerTemplate, preferCSSPageSize, generateTaggedPDF, generateDocumentOutline
è¿”å›ç±»å‹è¯´æ˜stras_pdfä¸ºFalseæ—¶è¿”å› mhtml æ–‡æœ¬bytesas_pdfä¸ºTrueæ—¶è¿”å›æ–‡ä»¶å­—èŠ‚æ•°æ®

âœ…ï¸ï¸ è¿è¡ŒçŠ¶æ€ä¿¡æ¯â€‹
ğŸ“Œ urlâ€‹
æ­¤å±æ€§è¿”å›å½“å‰è®¿é—®çš„ urlã€‚
è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ addressâ€‹
æ­¤å±æ€§è¿”å›å½“å‰å¯¹è±¡æ§åˆ¶çš„é¡µé¢åœ°å€å’Œç«¯å£ã€‚
è¿”å›ç±»å‹ï¼šstr
print(page.address)
è¾“å‡ºï¼š
127.0.0.1:9222

ğŸ“Œ tab_idâ€‹
è¿”å›ç±»å‹ï¼šstr
æ­¤å±æ€§è¿”å›å½“å‰æ ‡ç­¾é¡µçš„ idã€‚

ğŸ“Œ process_idâ€‹
æ­¤å±æ€§è¿”å›æµè§ˆå™¨è¿›ç¨‹ idã€‚
è¿”å›ç±»å‹ï¼šintã€None

ğŸ“Œ states.is_loadingâ€‹
æ­¤å±æ€§è¿”å›é¡µé¢æ˜¯å¦æ­£åœ¨åŠ è½½çŠ¶æ€ã€‚
è¿”å›ç±»å‹ï¼šbool

ğŸ“Œ states.is_aliveâ€‹
æ­¤å±æ€§è¿”å›é¡µé¢æ˜¯å¦ä»ç„¶å¯ç”¨ï¼Œæ ‡ç­¾é¡µå·²å…³é—­åˆ™è¿”å›Falseã€‚
è¿”å›ç±»å‹ï¼šbool

ğŸ“Œ states.ready_stateâ€‹
æ­¤å±æ€§è¿”å›é¡µé¢å½“å‰åŠ è½½çŠ¶æ€ï¼Œæœ‰ 4 ç§ï¼š

'connecting'ï¼š ç½‘é¡µè¿æ¥ä¸­
'loading'ï¼šè¡¨ç¤ºæ–‡æ¡£è¿˜åœ¨åŠ è½½ä¸­
'interactive'ï¼šDOM å·²åŠ è½½ï¼Œä½†èµ„æºæœªåŠ è½½å®Œæˆ
'complete'ï¼šæ‰€æœ‰å†…å®¹å·²å®ŒæˆåŠ è½½

è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ url_availableâ€‹
æ­¤å±æ€§ä»¥å¸ƒå°”å€¼è¿”å›å½“å‰é“¾æ¥æ˜¯å¦å¯ç”¨ã€‚
è¿”å›ç±»å‹ï¼šbool

ğŸ“Œ states.has_alertâ€‹
æ­¤å±æ€§ä»¥å¸ƒå°”å€¼è¿”å›é¡µé¢æ˜¯å¦å­˜åœ¨å¼¹å‡ºæ¡†ã€‚
è¿”å›ç±»å‹ï¼šbool

âœ…ï¸ï¸ çª—å£ä¿¡æ¯â€‹
ğŸ“Œ rect.sizeâ€‹
ä»¥tupleè¿”å›é¡µé¢å¤§å°ï¼Œæ ¼å¼ï¼š(å®½, é«˜)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

ğŸ“Œ rect.window_sizeâ€‹
æ­¤å±æ€§ä»¥tupleè¿”å›çª—å£å¤§å°ï¼Œæ ¼å¼ï¼š(å®½, é«˜)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

ğŸ“Œ rect.window_locationâ€‹
æ­¤å±æ€§ä»¥tupleè¿”å›çª—å£åœ¨å±å¹•ä¸Šçš„åæ ‡ï¼Œå·¦ä¸Šè§’ä¸º(0, 0)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

ğŸ“Œ rect.window_stateâ€‹
æ­¤å±æ€§ä»¥è¿”å›çª—å£å½“å‰çŠ¶æ€ï¼Œæœ‰'normal'ã€'fullscreen'ã€'maximized'ã€ 'minimized'å‡ ç§ã€‚
è¿”å›ç±»å‹ï¼šstr

ğŸ“Œ rect.viewport_sizeâ€‹
æ­¤å±æ€§ä»¥tupleè¿”å›è§†å£å¤§å°ï¼Œä¸å«æ»šåŠ¨æ¡ï¼Œæ ¼å¼ï¼š(å®½, é«˜)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

ğŸ“Œ rect.viewport_size_with_scrollbarâ€‹
æ­¤å±æ€§ä»¥tupleè¿”å›æµè§ˆå™¨çª—å£å¤§å°ï¼Œå«æ»šåŠ¨æ¡ï¼Œæ ¼å¼ï¼š(å®½, é«˜)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

ğŸ“Œ rect.page_locationâ€‹
æ­¤å±æ€§ä»¥tupleè¿”å›é¡µé¢å·¦ä¸Šè§’åœ¨å±å¹•ä¸­åæ ‡ï¼Œå·¦ä¸Šè§’ä¸º(0, 0)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

ğŸ“Œ rect.viewport_locationâ€‹
æ­¤å±æ€§ä»¥tupleè¿”å›è§†å£åœ¨å±å¹•ä¸­åæ ‡ï¼Œå·¦ä¸Šè§’ä¸º(0, 0)ã€‚
è¿”å›ç±»å‹ï¼šTuple[int, int]

âœ…ï¸ï¸ é…ç½®å‚æ•°ä¿¡æ¯â€‹
ğŸ“Œ timeoutâ€‹
æ­¤å±æ€§ä¸ºæ•´ä½“é»˜è®¤è¶…æ—¶æ—¶é—´ï¼ŒåŒ…æ‹¬å…ƒç´ æŸ¥æ‰¾ã€ç‚¹å‡»ã€å¤„ç†æç¤ºæ¡†ã€åˆ—è¡¨é€‰æ‹©ç­‰éœ€è¦ç”¨åˆ°è¶…æ—¶è®¾ç½®çš„åœ°æ–¹ï¼Œéƒ½ä»¥è¿™ä¸ªæ•°æ®ä¸ºé»˜è®¤å€¼ã€‚
é»˜è®¤ä¸º 10ï¼Œå¯å¯¹å…¶èµ‹å€¼ã€‚
è¿”å›ç±»å‹ï¼šintã€float
# åˆ›å»ºé¡µé¢å¯¹è±¡æ—¶æŒ‡å®špage = ChromiumPage(timeout=5)# ä¿®æ”¹ timeoutpage.timeout = 20

ğŸ“Œ timeoutsâ€‹
æ­¤å±æ€§ä»¥å­—å…¸æ–¹å¼è¿”å›ä¸‰ç§è¶…æ—¶æ—¶é—´ã€‚

'base'ï¼šä¸timeoutå±æ€§æ˜¯åŒä¸€ä¸ªå€¼
'page_load'ï¼šç”¨äºç­‰å¾…é¡µé¢åŠ è½½
'script'ï¼šç”¨äºç­‰å¾…è„šæœ¬æ‰§è¡Œ

è¿”å›ç±»å‹ï¼šdict
print(page.timeouts)
è¾“å‡ºï¼š
{'base': 10, 'page_load': 30.0, 'script': 30.0}

ğŸ“Œ retry_timesâ€‹
æ­¤å±æ€§ä¸ºç½‘ç»œè¿æ¥å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°ã€‚é»˜è®¤ä¸º 3ï¼Œå¯å¯¹å…¶èµ‹å€¼ã€‚
è¿”å›ç±»å‹ï¼šint
# ä¿®æ”¹é‡è¯•æ¬¡æ•°page.retry_times = 5

ğŸ“Œ retry_intervalâ€‹
æ­¤å±æ€§ä¸ºç½‘ç»œè¿æ¥å¤±è´¥æ—¶çš„é‡è¯•ç­‰å¾…é—´éš”ç§’æ•°ã€‚é»˜è®¤ä¸º 2ï¼Œå¯å¯¹å…¶èµ‹å€¼ã€‚
è¿”å›ç±»å‹ï¼šintã€float
# ä¿®æ”¹é‡è¯•ç­‰å¾…é—´éš”æ—¶é—´page.retry_interval = 1.5

ğŸ“Œ load_modeâ€‹
æ­¤å±æ€§è¿”å›é¡µé¢åŠ è½½ç­–ç•¥ï¼Œæœ‰ 3 ç§ï¼š

'normal'ï¼šç­‰å¾…é¡µé¢æ‰€æœ‰èµ„æºå®ŒæˆåŠ è½½
'eager'ï¼šDOM åŠ è½½å®Œæˆå³åœæ­¢
'none'ï¼šé¡µé¢å®Œæˆè¿æ¥å³åœæ­¢

è¿”å›ç±»å‹ï¼šstr

âœ…ï¸ï¸ cookies å’Œç¼“å­˜ä¿¡æ¯â€‹
ğŸ“Œ cookies()â€‹
æ­¤æ–¹æ³•è¿”å› cookies ä¿¡æ¯ã€‚
å‚æ•°åç§°ç±»å‹é»˜è®¤å€¼è¯´æ˜as_dictboolFalseæ˜¯å¦ä»¥å­—å…¸æ–¹å¼è¿”å›ç»“æœã€‚ä¸ºTrueæ—¶è¿”å›ç”±{name: value}é”®å€¼å¯¹ç»„æˆçš„dictï¼Œä¸”all_infoå‚æ•°æ— æ•ˆï¼›ä¸ºFalseè¿”å› cookie ç»„æˆçš„listall_domainsboolFalseæ˜¯å¦è¿”å›æ‰€æœ‰ cookiesï¼Œä¸ºFalseåªè¿”å›å½“å‰ url çš„all_infoboolFalseè¿”å›çš„ cookies æ˜¯å¦åŒ…å«æ‰€æœ‰ä¿¡æ¯ï¼ŒFalseæ—¶åªåŒ…å«nameã€valueã€domainä¿¡æ¯
è¿”å›ç±»å‹è¯´æ˜dictas_dictä¸ºTrueæ—¶ï¼Œè¿”å›å­—å…¸æ ¼å¼ cookieslistas_dictä¸ºFalseæ—¶ï¼Œè¿”å› cookies ç»„æˆçš„åˆ—è¡¨
ç¤ºä¾‹ï¼š
from DrissionPage import ChromiumPagepage = ChromiumPage()page.get('http://www.baidu.com')for i in page.cookies(as_dict=False):    print(i)
è¾“å‡ºï¼š
{'domain': '.baidu.com', 'domain_specified': True, ......}......

ğŸ“Œ session_storage()â€‹
æ­¤æ–¹æ³•ç”¨äºè·å– sessionStorage ä¿¡æ¯ï¼Œå¯è·å–å…¨éƒ¨æˆ–å•ä¸ªé¡¹ã€‚
å‚æ•°åç§°ç±»å‹é»˜è®¤å€¼è¯´æ˜itemstrNoneè¦è·å–çš„é¡¹ç›®ï¼Œä¸ºNoneåˆ™è¿”å›å…¨éƒ¨é¡¹ç›®ç»„æˆçš„å­—å…¸
è¿”å›ç±»å‹è¯´æ˜dictitemå‚æ•°ä¸ºNoneæ—¶è¿”å›æ‰€æœ‰é¡¹ç›®stræŒ‡å®šitemæ—¶è¿”å›è¯¥é¡¹ç›®å†…å®¹

ğŸ“Œ local_storage()â€‹
æ­¤æ–¹æ³•ç”¨äºè·å– localStorage ä¿¡æ¯ï¼Œå¯è·å–å…¨éƒ¨æˆ–å•ä¸ªé¡¹ã€‚
å‚æ•°åç§°ç±»å‹é»˜è®¤å€¼è¯´æ˜itemstrNoneè¦è·å–çš„é¡¹ç›®ï¼Œä¸ºNoneåˆ™è¿”å›å…¨éƒ¨é¡¹ç›®ç»„æˆçš„å­—å…¸
è¿”å›ç±»å‹è¯´æ˜dictitemå‚æ•°ä¸ºNoneæ—¶è¿”å›æ‰€æœ‰é¡¹ç›®stræŒ‡å®šitemæ—¶è¿”å›è¯¥é¡¹ç›®å†…å®¹

âœ…ï¸ï¸ å†…åµŒå¯¹è±¡â€‹
ğŸ“Œ driverâ€‹
æ­¤å±æ€§è¿”å›å½“å‰é¡µé¢å¯¹è±¡ä½¿ç”¨çš„Driverå¯¹è±¡ã€‚
è¿”å›ç±»å‹ï¼šDriverä¸Šä¸€é¡µğŸš¤ è®¿é—®ç½‘é¡µä¸‹ä¸€é¡µğŸš¤ é¡µé¢äº¤äº’âœ…ï¸ï¸ é¡µé¢ä¿¡æ¯ğŸ“Œ htmlğŸ“Œ jsonğŸ“Œ titleğŸ“Œ user_agentğŸ“Œ browser_versionğŸ“Œ save()âœ…ï¸ï¸ è¿è¡ŒçŠ¶æ€ä¿¡æ¯ğŸ“Œ urlğŸ“Œ addressğŸ“Œ tab_idğŸ“Œ process_idğŸ“Œ states.is_loadingğŸ“Œ states.is_aliveğŸ“Œ states.ready_stateğŸ“Œ url_availableğŸ“Œ states.has_alertâœ…ï¸ï¸ çª—å£ä¿¡æ¯ğŸ“Œ rect.sizeğŸ“Œ rect.window_sizeğŸ“Œ rect.window_locationğŸ“Œ rect.window_stateğŸ“Œ rect.viewport_sizeğŸ“Œ rect.viewport_size_with_scrollbarğŸ“Œ rect.page_locationğŸ“Œ rect.viewport_locationâœ…ï¸ï¸ é…ç½®å‚æ•°ä¿¡æ¯ğŸ“Œ timeoutğŸ“Œ timeoutsğŸ“Œ retry_timesğŸ“Œ retry_intervalğŸ“Œ load_modeâœ…ï¸ï¸ cookies å’Œç¼“å­˜ä¿¡æ¯ğŸ“Œ cookies()ğŸ“Œ session_storage()ğŸ“Œ local_storage()âœ…ï¸ï¸ å†…åµŒå¯¹è±¡ğŸ“Œ driverä½œè€…g1879äº¤æµè”ç³»é‚®ç®±ï¼šg1879@qq.comQQç¾¤ï¼š636361957æ—§ç‰ˆåœ°å€3.2ç‰ˆæ–‡æ¡£MixPageæœ¬æ–‡æ¡£ç¦æ­¢å•†ç”¨ DrissionPageDocs by g1879 is licensed under CC BY-NC 4.0
ç²¤ICPå¤‡2024179482å·-1.
